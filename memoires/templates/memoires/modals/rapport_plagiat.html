<!-- Modal: Rapport anti-plagiat -->
<div class="modal fade" id="modalRapportPlagiat" tabindex="-1" aria-labelledby="modalRapportLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header" style="{% if memoire.score_plagiat < 20 %}background-color: #28a745;{% else %}background-color: #ffc107;{% endif %} color: white;">
                <h5 class="modal-title" id="modalRapportLabel">
                    <i class="bi bi-file-text"></i> Rapport anti-plagiat
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                {% if memoire and memoire.plagiat_verifie %}
                    <div class="text-center mb-4">
                        {% if memoire.score_plagiat < 20 %}
                            <i class="bi bi-check-circle" style="font-size: 4rem; color: #28a745;"></i>
                            <h4 class="mt-3 text-success">Score Acceptable</h4>
                        {% else %}
                            <i class="bi bi-exclamation-triangle" style="font-size: 4rem; color: #ffc107;"></i>
                            <h4 class="mt-3 text-warning">Score À Vérifier</h4>
                        {% endif %}
                        <h2 class="mb-0">{{ memoire.score_plagiat|floatformat:2 }}%</h2>
                        <p class="text-muted">Score de similarité</p>
                    </div>
                    
                    <hr>
                    
                    <div class="mb-3">
                        <h6 style="color: var(--uom-blue);">Rapport détaillé</h6>
                        <pre style="white-space: pre-wrap; background-color: #f8f9fa; padding: 15px; border-radius: 5px; font-size: 0.9rem;">{{ memoire.rapport_plagiat }}</pre>
                    </div>
                    
                    {% if memoire.score_plagiat < 20 %}
                        <div class="alert alert-success">
                            <i class="bi bi-check-circle"></i> <strong>Excellent!</strong> 
                            Votre mémoire a un score de plagiat acceptable. Vous pouvez maintenant confirmer et obtenir votre certificat.
                        </div>
                    {% else %}
                        <div class="alert alert-warning">
                            <i class="bi bi-exclamation-triangle"></i> <strong>Attention!</strong> 
                            Le score de plagiat est élevé. Nous vous recommandons de revoir votre travail.
                        </div>
                    {% endif %}
                {% else %}
                    <p class="text-center text-muted">Aucune vérification effectuée</p>
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle"></i> Fermer
                </button>
            </div>
        </div>
    </div>
</div>



