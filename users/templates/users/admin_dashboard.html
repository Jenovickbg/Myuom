{% extends 'users/base.html' %}

{% block title %}Tableau de bord Administrateur - MyUOM{% endblock %}

{% block navbar_links %}
<li class="nav-item">
    <a class="nav-link" href="{% url 'admin_dashboard' %}">
        <i class="bi bi-speedometer2"></i> Tableau de bord
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'admin_student_list' %}">
        <i class="bi bi-people"></i> Étudiants
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'admin_teacher_list' %}">
        <i class="bi bi-person-workspace"></i> Enseignants
    </a>
</li>
{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h2 style="color: var(--uom-blue);">
            <i class="bi bi-speedometer2"></i> Tableau de bord Administrateur
        </h2>
        <p class="text-uom-gray">Vue d'ensemble du système MyUOM</p>
        <hr>
    </div>
</div>

<!-- Statistiques -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card card-uom text-center">
            <div class="card-body">
                <i class="bi bi-people-fill" style="font-size: 3rem; color: var(--uom-blue);"></i>
                <h3 class="mt-3" style="color: var(--uom-blue);">{{ total_students }}</h3>
                <p class="text-uom-gray mb-0">Étudiants</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-3">
        <div class="card card-uom text-center">
            <div class="card-body">
                <i class="bi bi-person-workspace" style="font-size: 3rem; color: var(--uom-yellow);"></i>
                <h3 class="mt-3" style="color: var(--uom-blue);">{{ total_teachers }}</h3>
                <p class="text-uom-gray mb-0">Enseignants</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-3">
        <div class="card card-uom text-center">
            <div class="card-body">
                <i class="bi bi-check-circle-fill" style="font-size: 3rem; color: #28a745;"></i>
                <h3 class="mt-3" style="color: var(--uom-blue);">{{ active_students }}</h3>
                <p class="text-uom-gray mb-0">Comptes actifs</p>
            </div>
        </div>
    </div>
    
    <div class="col-md-3">
        <div class="card card-uom text-center">
            <div class="card-body">
                <i class="bi bi-clock-fill" style="font-size: 3rem; color: var(--uom-red);"></i>
                <h3 class="mt-3" style="color: var(--uom-blue);">{{ pending_first_login }}</h3>
                <p class="text-uom-gray mb-0">En attente 1ère connexion</p>
            </div>
        </div>
    </div>
</div>

<!-- Actions rapides -->
<div class="row">
    <div class="col-12">
        <h4 style="color: var(--uom-blue);"><i class="bi bi-lightning-fill"></i> Actions rapides</h4>
        <hr>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-3">
        <div class="card card-uom h-100">
            <div class="card-body">
                <h5 style="color: var(--uom-blue);"><i class="bi bi-person-plus-fill"></i> Gestion des étudiants</h5>
                <p class="text-uom-gray">Créer, modifier et gérer les comptes étudiants</p>
                <div class="d-grid gap-2">
                    <a href="{% url 'admin_student_create' %}" class="btn btn-uom-primary">
                        <i class="bi bi-plus-circle"></i> Créer un étudiant
                    </a>
                    <a href="{% url 'admin_student_bulk_import' %}" class="btn btn-uom-secondary">
                        <i class="bi bi-file-earmark-arrow-up"></i> Importer (CSV)
                    </a>
                    <a href="{% url 'admin_student_list' %}" class="btn btn-outline-secondary">
                        <i class="bi bi-list-ul"></i> Liste des étudiants
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="card card-uom h-100">
            <div class="card-body">
                <h5 style="color: var(--uom-blue);"><i class="bi bi-person-workspace"></i> Gestion des enseignants</h5>
                <p class="text-uom-gray">Créer et gérer les comptes enseignants</p>
                <div class="d-grid gap-2">
                    <a href="{% url 'admin_teacher_create' %}" class="btn btn-uom-primary">
                        <i class="bi bi-plus-circle"></i> Créer un enseignant
                    </a>
                    <a href="{% url 'admin_teacher_list' %}" class="btn btn-outline-secondary">
                        <i class="bi bi-list-ul"></i> Liste des enseignants
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="card card-uom h-100">
            <div class="card-body">
                <h5 style="color: var(--uom-blue);"><i class="bi bi-gear-fill"></i> Configuration</h5>
                <p class="text-uom-gray">Paramètres système et configurations</p>
                <div class="d-grid gap-2">
                    <a href="#" class="btn btn-outline-secondary">
                        <i class="bi bi-sliders"></i> Paramètres
                    </a>
                    <a href="#" class="btn btn-outline-secondary">
                        <i class="bi bi-journal-text"></i> Logs système
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

